# import Date, ObjectID, EmailAddress, Role from "./scalars.graphql"
# import Document from "./document.graphql"
# import Folder from "./folder.graphql"

directive @authRequired(requires: [Role] = [ADMIN]) on QUERY | FIELD

type Query {
  users: [User] @authRequired(requires: [ADMIN])
  me: User @authRequired(requires: [USER])
}
type Mutation {
  signUpUser(input: UserIn!): UserStep1
  selectUserPlanAndFinishSignUp(id: ObjectID!, userPlan: String!): String
  activateAccount(token: String): String
  login(email: EmailAddress!, password: String!): String
  renewToken: String
  resetPasswordEmail(email: EmailAddress!): String
  checkResetPasswordToken(token: String): Boolean
  updatePassword(token: String, newPassword: String): String
  deleteUser(id: ObjectID!): User @authRequired(requires: [USER])
  updateUser(id: ObjectID!, input: UserIn!): User
    @authRequired(requires: [USER])
}

type UserStep1 {
  id: ObjectID
  email: EmailAddress
}

type User {
  id: ObjectID
  email: EmailAddress
  password: String
  admin: Boolean
  publisher: Boolean
  teacher: Boolean
  teacherPro: Boolean
  family: Boolean
  name: String
  surnames: String
  bornDate: Date
  center: String
  active: Boolean
  signUpToken: String
  authToken: String
  notifications: Boolean
  imTeacherCheck: Boolean
  centerName: String
  educationalStage: String
  province: String
  postCode: Number
  country: String
  createdAt: Date
  updatedAt: Date
  lastLogin: Date
  rootFolder: ObjectID
  documents: [Document]
  folders: [Folder]
}

input UserIn {
  email: EmailAddress
  password: String
  name: String
  surnames: String
  bornDate: Date
  notifications: Boolean
  imTeacherCheck: Boolean
  centerName: String
  educationalStage: String
  province: String
  postCode: Number
  country: String
}
